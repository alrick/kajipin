<% content_for :page_title do %><%= @user.first_name %>'s Pins<% end %>

<div class="page-header">
  <h1><%= t 'pins.index.title' %> <small><%= t 'pins.index.small' %></small></h1>
</div>

<%= form_tag("pins/new", :method => "get", :class => "well form-inline") do %>
  <p><strong><%= t 'pins.index.add_explanation' %></strong></p>
  <%= text_field_tag(:q, nil, :class => "input-large", :placeholder => t('pins.index.search_field')) %>
  <%= button_tag content_tag("i", "", :class => "icon-plus-sign")+" "+t('add').capitalize, :class => "btn btn-map" %>
<% end %>

<div class="alert alert-info">
  <strong><%= t 'headsup' %></strong> <%= t 'pins.index.limits', :limit => Pin.limit, :high_populated_limit => Pin.high_populated_limit %> (<i class="icon-upload"></i>).
</div>

<h2><%= t 'pins.index.current_title' %> <small><%= @overall.count %> <%= t 'pins.index.current_small' %> (<%= @overall.high_populated.count %> <i class="icon-upload"></i>)</small></h2>

<div class="tabbable"> <!-- Only required for left/right tabs -->
  <ul id ="pins-toolstabs" class="nav nav-tabs">
    <li class="active"><a href="#city" data-toggle="tab"><b><i class="icon-map-marker" style="color:<%= City.marker_color %>"></i> <%= City.model_name.human %> (<%= @cities.count %>)</b></a></li>
    <li><a href="#town" data-toggle="tab"><b><i class="icon-map-marker" style="color:<%= Town.marker_color %>"></i> <%= Town.model_name.human %> (<%= @towns.count %>)</b></a></li>
    <li><a href="#pointofinterest" data-toggle="tab"><b><i class="icon-map-marker" style="color:<%= Poi.marker_color %>"></i> <%= Poi.model_name.human %> (<%= @points_of_interest.count %>)</b></a></li>
  </ul>
  <div id="pins" class="tab-content">
    <div class="tab-pane active" id="city">
      <table class="pins-table table table-hover table-striped">
        <%= render(:partial => "pins/pin", :collection => @cities, :as => :pin) || content_tag("p", t('pins.index.no_city'), :class => "lead empty-set") %>
      </table>
    </div>
    <div class="tab-pane" id="town">
      <table class="pins-table table table-hover table-striped">
        <%= render(:partial => "pins/pin", :collection => @towns, :as => :pin) || content_tag("p", t('pins.index.no_town'), :class => "lead empty-set") %>
      </table>
    </div>
    <div class="tab-pane" id="pointofinterest">
      <table class="pins-table table table-hover table-striped">
        <%= render(:partial => "pins/pin", :collection => @points_of_interest, :as => :pin) || content_tag("p", "No point of interest added.", :class => "lead empty-set") %>
      </table>
    </div>
  </div>
</div>
<hr>
<dl class="dl-horizontal">
  <dt>High populated (<i class="icon-upload"></i>)</dt>
  <dd>One million or more population.</dd>
</dl>